### Ответы на вопросы:

#### 1. **Чем отличается `su` от `sudo`?**
   - **`su`** (Switch User) позволяет сменить пользователя в текущей сессии. Когда вы используете `su` без аргументов, вы становитесь пользователем `root`, и вам нужно ввести пароль `root`. При использовании `su user`, вы становитесь указанным пользователем, но должны ввести его пароль.
   - **`sudo`** (Super User DO) позволяет пользователю выполнять команды с правами другого пользователя (чаще всего `root`). Для этого не нужно знать пароль `root`, достаточно ввести свой собственный пароль (если у пользователя есть соответствующие права). В отличие от `su`, `sudo` может быть настроено с ограничениями на уровне команд.

#### 2. **Кто может использовать `sudo`?**
   Пользователи, которые включены в группу `sudo` или группу с подобными правами, могут использовать команду `sudo`. Обычно это те пользователи, которые находятся в группе `sudo` (в Ubuntu) или в группе `wheel` (в CentOS и RHEL). Права на использование `sudo` настраиваются в файле `/etc/sudoers`.

#### 3. **Чем отличается `su user` от `su - user`?**
   - **`su user`**: Запускает оболочку как пользователь `user`, но не загружает его конфигурационные файлы для входа (например, `.bash_profile` или `.profile`), и текущая рабочая директория остается такой же, как у пользователя, который выполняет команду.
   - **`su - user`**: Запускает оболочку как пользователь `user` и имитирует полную сессию входа, включая загрузку его конфигурационных файлов и изменение рабочей директории на домашнюю директорию пользователя.

#### 4. **Чем отличается `su` от `sudo su`?**
   - **`su`**: Используется для смены пользователя (например, `su root` для входа под `root`).
   - **`sudo su`**: Выполняет команду `su` с правами пользователя, который вызвал команду `sudo`. Обычно используется для получения прав `root` без необходимости ввода пароля `root`.

#### 5. **Объясните эту запись: `ALL=(ALL:ALL) ALL`**
   Эта строка в файле `/etc/sudoers` задает права для пользователя или группы:
   - Первый `ALL`: Пользователи могут выполнять команды на всех хостах.
   - `(ALL:ALL)`: Пользователь может выполнять команды от имени всех пользователей и всех групп.
   - Последний `ALL`: Пользователь может выполнять любые команды.

   Это означает, что пользователь или группа имеет полный доступ ко всем командам на всех хостах и может выполнять их от имени любого пользователя и группы.

#### 6. **Какими способами можно дать пользователю «права администратора», какой способ лучше и почему?**
   - **Метод 1**: Добавление пользователя в группу `sudo` или `wheel`. Это позволяет пользователю использовать `sudo` для выполнения команд от имени `root`.
     - Пример для Ubuntu:
       ```bash
       sudo usermod -aG sudo user
       ```
     - Пример для CentOS/RHEL:
       ```bash
       sudo usermod -aG wheel user
       ```
   - **Метод 2**: Прямое добавление пользователя в файл `/etc/sudoers` с соответствующими правами.
   - **Метод 3**: Использование `su` для предоставления полномочий пользователя.
   
   **Лучший способ**: Добавить пользователя в группу `sudo` или `wheel` (метод 1). Это безопаснее и проще в управлении. В отличие от прямого редактирования файла `/etc/sudoers`, это также снижает вероятность ошибок в настройке.

---

### Задания:

#### 1. **Сделайте пользователя `user2` администратором и докажите, что это работает**:
   1. Добавьте пользователя `user2` в группу `sudo` (для Ubuntu) или `wheel` (для CentOS/RHEL):
      ```bash
      sudo usermod -aG sudo user2    # Для Ubuntu
      sudo usermod -aG wheel user2   # Для CentOS/RHEL
      ```

   2. Перезайдите или выйдите и зайдите снова от имени `user2`.

   3. Проверьте, работает ли `sudo` для `user2`, попытавшись выполнить команду с правами суперпользователя:
      ```bash
      sudo ls /root
      ```
      Если всё сделано правильно, `user2` должен быть в состоянии выполнить команду с правами администратора.

#### 2. **Разрешите пользователю `user1` запускать команду `touch` от имени `user2` и докажите, что это работает**:
   1. Откройте файл `/etc/sudoers` с помощью команды `visudo` (это гарантирует, что синтаксис будет проверен на ошибки):
      ```bash
      sudo visudo
      ```

   2. Добавьте строку, разрешающую `user1` выполнять команду `touch` от имени `user2`:
      ```bash
      user1 ALL=(user2) /usr/bin/touch
      ```

   3. Сохраните файл и выйдите из редактора.

   4. Попробуйте выполнить команду от имени `user1`:
      ```bash
      sudo -u user2 touch /home/user1/testfile
      ```

   5. Проверьте, создался ли файл:
      ```bash
      ls -l /home/user1/testfile
      ```

   Если всё сделано правильно, файл должен быть создан от имени пользователя `user2`.