### Ответы на вопросы:

1. **Зачем нужен RAID?**
   - **RAID (Redundant Array of Independent Disks)** используется для объединения нескольких жестких дисков в один логический диск с целью увеличения производительности, надежности, отказоустойчивости и/или ёмкости. Он позволяет:
     - Повысить производительность благодаря параллельной работе нескольких дисков.
     - Обеспечить **избыточность данных** для защиты от потерь при выходе из строя одного из дисков.
     - Увеличить общий объем хранилища.

2. **Какие уровни рейда вы знаете и чем они отличаются?**
   - **RAID 0 (Striping)**: Данные равномерно распределяются между двумя и более дисками. Увеличивает производительность, но не предоставляет избыточности. Потеря одного диска ведет к потере всех данных.
   - **RAID 1 (Mirroring)**: Создает зеркала данных на двух дисках. Высокая избыточность, но только 50% пространства используется для хранения данных. Защищает от потери данных при выходе из строя одного диска.
   - **RAID 5 (Striping with Parity)**: Данные и контрольные суммы (паритет) распределяются по всем дискам. Требует минимум 3 диска. Обеспечивает хорошую производительность и отказоустойчивость.
   - **RAID 6 (Striping with Double Parity)**: Подобен RAID 5, но с двумя уровнями паритета. Это позволяет работать даже при потере двух дисков, но производительность ниже, чем у RAID 5.
   - **RAID 10 (1+0)**: Сочетает преимущества RAID 1 и RAID 0, создавая зеркала и распределяя данные по ним. Обеспечивает высокую производительность и отказоустойчивость, но требует минимум 4 диска.

3. **Чем отличается программный рейд от аппаратного?**
   - **Программный RAID**:
     - Реализуется средствами операционной системы.
     - Управляется через софт (например, `mdadm` в Linux).
     - Обычно менее производительный, чем аппаратный, но более гибкий и дешевый.
   - **Аппаратный RAID**:
     - Управляется специальной RAID-картой или контроллером.
     - Обрабатывается на уровне оборудования, что освобождает процессор хоста.
     - Более производительный, но дороже и менее гибкий в настройке, чем программный RAID.

4. **Заменяет ли RAID бэкап и почему?**
   - **Нет, RAID не заменяет бэкап**. RAID защищает от **аппаратных сбоев** (например, выхода из строя диска), но не защищает от **ошибок пользователя** (удаление файлов), **вирусов** или **катастрофических сбоев** (например, пожар). Бэкап нужен для **восстановления данных в случае повреждения файлов или потери данных**.

5. **Как посмотреть информацию о RAID устройстве? Как понять, есть ли проблемы с RAID?**
   - Для **просмотра информации о RAID** можно использовать команду `cat /proc/mdstat` для программного RAID или `megacli` / `storcli` для аппаратного RAID.
   - Для просмотра статуса RAID:
     ```bash
     cat /proc/mdstat
     ```
     В выводе будет информация о статусе, например, «active» или «degraded» (если есть проблемы с дисками в массиве).

6. **Как понять, есть ли проблемы с RAID?**
   - Если RAID работает в режиме **"degraded"** или **"failure"**, это означает, что один или несколько дисков вышли из строя.
   - Важно регулярно проверять статус с помощью утилит, таких как `mdadm` или специализированных инструментов для аппаратного RAID (например, `megacli`, `storcli`).

---

### Задания:

1. **Создайте RAID 1 из двух разделов на разных дисках. Поверх RAID-а настройте LVM с одним логическим разделом, который должен занимать 60% пространства группы, а файловая система которого должна монтироваться в директорию /srv.**

   1. **Создаем RAID 1**:
      - Предположим, что у нас два диска: `/dev/sda` и `/dev/sdb`. Создаем два раздела на этих дисках.
      - Используем команду `mdadm` для создания RAID 1:
        ```bash
        mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sda1 /dev/sdb1
        ```
   
   2. **Настроим LVM**:
      - Создаем физический том (PV) для нового массива:
        ```bash
        pvcreate /dev/md0
        ```
      - Создаем группу томов (VG):
        ```bash
        vgcreate my_vg /dev/md0
        ```
      - Создаем логический том (LV), который занимает 60% пространства группы:
        ```bash
        lvcreate -L 60%FREE -n lv_srv my_vg
        ```
   
   3. **Форматируем LV и монтируем**:
      - Форматируем файловую систему:
        ```bash
        mkfs.ext4 /dev/my_vg/lv_srv
        ```
      - Монтируем в директорию `/srv`:
        ```bash
        mount /dev/my_vg/lv_srv /srv
        ```

2. **Выключите виртуалку, удалите один из дисков, добавьте новый диск и восстановите рейд с помощью этого диска.**

   1. **Выключаем виртуальную машину**:
      ```bash
      shutdown -h now
      ```
   
   2. **Удаляем один из дисков**:
      - Например, удаляем диск `/dev/sdb` (сначала отцепляем его и потом удаляем физически).
   
   3. **Добавляем новый диск**:
      - После того как новый диск был добавлен, создаем новый раздел (например, `/dev/sdb1`).
   
   4. **Восстановление RAID**:
      - Добавляем новый диск в массив RAID:
        ```bash
        mdadm --add /dev/md0 /dev/sdb1
        ```
      - RAID должен восстановиться, и данные будут синхронизированы с новым диском.

